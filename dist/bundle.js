(()=>{"use strict";var t={208:(t,e,n)=>{n.d(e,{A:()=>s});var o=n(354),r=n.n(o),i=n(314),a=n.n(i)()(r());a.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap);"]),a.push([t.id,'* {\n  font-family: "Poppins", sans-serif;\n}\n.board-container {\n  display: flex;\n  justify-content: space-around;\n  margin-top: 20px;\n}\n.board {\n  border-collapse: collapse;\n}\n\n.cell {\n  width: 40px;\n  height: 40px;\n  border: 1px solid #333;\n  font-size: 20px;\n  cursor: pointer;\n}\n\n/* .cell:hover {\n  background-color: #eee;\n} */\n.ship {\n  background-color: rgba(45, 199, 255, 0.62);\n}\n\n.ship-position-prohibited {\n  background-color: rgba(255, 60, 60, 0.62);\n}\n.ship-position-allowed {\n  background-color: rgba(61, 255, 90, 0.62);\n}\n/* Missed cell */\n.missed {\n  position: relative;\n  background-color: #ebebeb;\n}\n\n.missed::after {\n  content: "";\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 8px;\n  height: 8px;\n  background-color: #343434; /* Color of the dot */\n  border-radius: 50%; /* Make it a circle */\n}\n\n/* Hit cell */\n.hit {\n  position: relative;\n  background-color: #ffe4df;\n}\n\n.hit::before,\n.hit::after {\n  content: "";\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 12px;\n  height: 2px;\n  background-color: #f34628; /* Color of the cross */\n}\n\n.hit::before {\n  transform: translate(-50%, -50%) rotate(45deg);\n}\n\n.hit::after {\n  transform: translate(-50%, -50%) rotate(-45deg);\n}\nheader h1 {\n  margin: 30px;\n  font-size: 40px;\n}\na {\n  margin-left: 10px;\n  color: black;\n}\ni {\n  font-size: 45px;\n}\n',"",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAEA;EACE,kCAAkC;AACpC;AACA;EACE,aAAa;EACb,6BAA6B;EAC7B,gBAAgB;AAClB;AACA;EACE,yBAAyB;AAC3B;;AAEA;EACE,WAAW;EACX,YAAY;EACZ,sBAAsB;EACtB,eAAe;EACf,eAAe;AACjB;;AAEA;;GAEG;AACH;EACE,0CAA0C;AAC5C;;AAEA;EACE,yCAAyC;AAC3C;AACA;EACE,yCAAyC;AAC3C;AACA,gBAAgB;AAChB;EACE,kBAAkB;EAClB,yBAAyB;AAC3B;;AAEA;EACE,WAAW;EACX,kBAAkB;EAClB,QAAQ;EACR,SAAS;EACT,gCAAgC;EAChC,UAAU;EACV,WAAW;EACX,yBAAyB,EAAE,qBAAqB;EAChD,kBAAkB,EAAE,qBAAqB;AAC3C;;AAEA,aAAa;AACb;EACE,kBAAkB;EAClB,yBAAyB;AAC3B;;AAEA;;EAEE,WAAW;EACX,kBAAkB;EAClB,QAAQ;EACR,SAAS;EACT,WAAW;EACX,WAAW;EACX,yBAAyB,EAAE,uBAAuB;AACpD;;AAEA;EACE,8CAA8C;AAChD;;AAEA;EACE,+CAA+C;AACjD;AACA;EACE,YAAY;EACZ,eAAe;AACjB;AACA;EACE,iBAAiB;EACjB,YAAY;AACd;AACA;EACE,eAAe;AACjB",sourcesContent:['@import url("https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");\n\n* {\n  font-family: "Poppins", sans-serif;\n}\n.board-container {\n  display: flex;\n  justify-content: space-around;\n  margin-top: 20px;\n}\n.board {\n  border-collapse: collapse;\n}\n\n.cell {\n  width: 40px;\n  height: 40px;\n  border: 1px solid #333;\n  font-size: 20px;\n  cursor: pointer;\n}\n\n/* .cell:hover {\n  background-color: #eee;\n} */\n.ship {\n  background-color: rgba(45, 199, 255, 0.62);\n}\n\n.ship-position-prohibited {\n  background-color: rgba(255, 60, 60, 0.62);\n}\n.ship-position-allowed {\n  background-color: rgba(61, 255, 90, 0.62);\n}\n/* Missed cell */\n.missed {\n  position: relative;\n  background-color: #ebebeb;\n}\n\n.missed::after {\n  content: "";\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 8px;\n  height: 8px;\n  background-color: #343434; /* Color of the dot */\n  border-radius: 50%; /* Make it a circle */\n}\n\n/* Hit cell */\n.hit {\n  position: relative;\n  background-color: #ffe4df;\n}\n\n.hit::before,\n.hit::after {\n  content: "";\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 12px;\n  height: 2px;\n  background-color: #f34628; /* Color of the cross */\n}\n\n.hit::before {\n  transform: translate(-50%, -50%) rotate(45deg);\n}\n\n.hit::after {\n  transform: translate(-50%, -50%) rotate(-45deg);\n}\nheader h1 {\n  margin: 30px;\n  font-size: 40px;\n}\na {\n  margin-left: 10px;\n  color: black;\n}\ni {\n  font-size: 45px;\n}\n'],sourceRoot:""}]);const s=a},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",o=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),o&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),o&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,o,r,i){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(o)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<t.length;c++){var d=[].concat(t[c]);o&&a[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),r&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=r):d[4]="".concat(r)),e.push(d))}},e}},354:t=>{t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),i="/*# ".concat(r," */");return[e].concat([i]).join("\n")}return[e].join("\n")}},72:t=>{var e=[];function n(t){for(var n=-1,o=0;o<e.length;o++)if(e[o].identifier===t){n=o;break}return n}function o(t,o){for(var i={},a=[],s=0;s<t.length;s++){var l=t[s],c=o.base?l[0]+o.base:l[0],d=i[c]||0,p="".concat(c," ").concat(d);i[c]=d+1;var A=n(p),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==A)e[A].references++,e[A].updater(h);else{var u=r(h,o);o.byIndex=s,e.splice(s,0,{identifier:p,updater:u,references:1})}a.push(p)}return a}function r(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,r){var i=o(t=t||[],r=r||{});return function(t){t=t||[];for(var a=0;a<i.length;a++){var s=n(i[a]);e[s].references--}for(var l=o(t,r),c=0;c<i.length;c++){var d=n(i[c]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}i=l}}},659:t=>{var e={};t.exports=function(t,n){var o=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(o,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={id:o,exports:{}};return t[o](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0,(()=>{class t{constructor(t=10){this.size=t,this.grid=Array.from({length:t},(()=>Array(t).fill(null))),this.ships=[],this.missedAttacks=[]}placeShip(t,e,n){const r=[];let i=e,a=n;for(let s=0;s<t.length;s++){if(o(e,n))throw new Error("Ship placement out of bounds.");if(null!==this.grid[a][i])throw new Error("Another ship is already placed here.");if(r.push([i,a]),"horizontal"===t.direction)i++;else{if("vertical"!==t.direction)throw new Error('Invalid direction. Use "horizontal" or "vertical".');a++}}r.forEach((([e,n])=>{this.grid[n][e]=t})),this.ships.push({ship:t,shipPositions:r})}canThisShipBePlacedHere(t,e,n){let r=parseInt(n),i=parseInt(e);for(let e=0;e<t.length;e++){if(o(r,i))return console.log("Ship placement out of bounds."),!1;if(null!==this.grid[i][r])return console.log(`PosX: ${r}, ${i}`),console.log("Another ship is already placed here."),!1;if("horizontal"===t.direction)r++;else{if("vertical"!==t.direction)return console.log("Invalid direction. Use 'horizontal' or 'vertical'"),!1;i++}}return console.log("Ok"),!0}receiveAttack(t,e){if(t<0||t>=this.size||e<0||e>=this.size)throw new Error("Attack out of bounds.");const n=this.grid[e][t];return null===n?(this.missedAttacks.push([t,e]),"Miss!"):(n.hit(),`Hit on ${n.name}!`)}haveAllShipsBeenSunk(){return this.ships.map((t=>t.ship.isSunk)).every((t=>!0===t))}displayBoard(t){document.addEventListener("DOMContentLoaded",(()=>{let e=0;this.grid.forEach((n=>{const o=document.createElement("tr");let r=0;n.forEach((t=>{const n=document.createElement("td");n.classList.add("cell"),n.setAttribute("data-x",r),n.setAttribute("data-y",e),r++,o.appendChild(n)})),e++,t.appendChild(o)}))}))}}class e extends t{constructor(){super()}allowPlayerToAttackComputer(t){document.addEventListener("DOMContentLoaded",(()=>{Array.from(t.getElementsByClassName("cell")).forEach((t=>{t.addEventListener("click",(()=>{"Miss!"==this.receiveAttack(t.getAttribute("data-x"),t.getAttribute("data-y"))?t.classList.add("missed"):t.classList.add("hit")}))}))}))}}function o(t,e){return!(r(10).includes(parseInt(t))&&r(10).includes(parseInt(e)))}function r(t){var e=[];for(let n=0;n<t;n++)e.push(n);return e}class i{constructor(t,e,n="horizontal"){this.name=t,this.hits=0,this.length=e,this.direction=n,this.isSunk=!1}hit(){this.hits++,this.hits===this.length&&(this.isSunk=!0)}}var a=n(72),s=n.n(a),l=n(825),c=n.n(l),d=n(659),p=n.n(d),A=n(56),h=n.n(A),u=n(540),f=n.n(u),C=n(113),g=n.n(C),E=n(208),m={};m.styleTagTransform=g(),m.setAttributes=h(),m.insert=p().bind(null,"head"),m.domAPI=c(),m.insertStyleElement=f(),s()(E.A,m),E.A&&E.A.locals&&E.A.locals,(new class{constructor(){this.shipDirectionButton=document.getElementById("ship-direction"),this.allPlayerShips=[],this.playerBoard=new t,this.computerBoard=new e,this.playerBoardDOM=document.getElementById("player-board"),this.computerBoardDOM=document.getElementById("computer-board"),this.playerShipNamesAndLength=[["Battleship",5],["Kraken",4],["Bull Dog",3],["Titan",2],["Warrior",2],["Tiki",1]]}setUpBoards(){this.playerBoard.displayBoard(this.playerBoardDOM),this.computerBoard.displayBoard(this.computerBoardDOM),this.startPlaceShipProcess()}startPlaceShipProcess(){document.addEventListener("DOMContentLoaded",(()=>{const t=this.playerBoardDOM.querySelectorAll(".cell");for(const e of t)this.addMouseOverEffectOn(e),this.addMouseOutEffectOn(e),this.addClickEffectOn(e)}))}addMouseOverEffectOn(t){t.addEventListener("mouseover",(()=>{const e=t.getAttribute("data-x"),n=t.getAttribute("data-y"),o=this.playerShipNamesAndLength[0];console.log(o);const r=new i(...o);if(r.direction=this.shipDirectionButton.textContent,this.playerBoard.canThisShipBePlacedHere(r,n,e)){let t=parseInt(e),o=parseInt(n);for(let e=0;e<r.length;e++)this.playerBoardDOM.querySelector(`td[data-x="${t}"][data-y="${o}"]`).classList.add("ship-position-allowed"),"horizontal"===r.direction?t++:o++}else{let t=parseInt(e),o=parseInt(n);for(let e=0;e<r.length;e++)this.playerBoardDOM.querySelector(`td[data-x="${t}"][data-y="${o}"]`).classList.add("ship-position-prohibited"),"horizontal"===r.direction?t++:o++}}))}addMouseOutEffectOn(t){t.addEventListener("mouseout",(()=>{const e=t.getAttribute("data-x"),n=t.getAttribute("data-y"),o=this.playerShipNamesAndLength[0];console.log(o);const r=new i(...o);if(r.direction=this.shipDirectionButton.textContent,this.playerBoard.canThisShipBePlacedHere(r,n,e)){let t=parseInt(e),o=parseInt(n);for(let e=0;e<r.length;e++)this.playerBoardDOM.querySelector(`td[data-x="${t}"][data-y="${o}"]`).classList.remove("ship-position-allowed"),"horizontal"===r.direction?t++:o++}else{let t=parseInt(e),o=parseInt(n);for(let e=0;e<r.length;e++)this.playerBoardDOM.querySelector(`td[data-x="${t}"][data-y="${o}"]`).classList.remove("ship-position-prohibited"),"horizontal"===r.direction?t++:o++}}))}addClickEffectOn(t){t.addEventListener("click",(()=>{const e=t.getAttribute("data-x"),n=t.getAttribute("data-y"),o=this.playerShipNamesAndLength.shift();console.log(o);const r=new i(...o);if(r.direction=this.shipDirectionButton.textContent,this.playerBoard.canThisShipBePlacedHere(r,n,e)){this.playerBoard.placeShip(r,e,n);let t=parseInt(e),o=parseInt(n);for(let e=0;e<r.length;e++){const e=this.playerBoardDOM.querySelector(`td[data-x="${t}"][data-y="${o}"]`);e.classList.remove("ship-position-allowed"),e.classList.add("ship"),"horizontal"===r.direction?t++:o++}}}))}}).setUpBoards();const y=document.getElementById("ship-direction");y.addEventListener("click",(()=>{"horizontal"==y.textContent?y.textContent="vertical":y.textContent="horizontal"})),computerBoard.allowPlayerToAttackComputer(computerBoardDOM)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBc0JuRyxTQUFTb0csZUFBZSxrQkFFcERELEVBQW9CbkIsaUJBQWlCLFNBQVMsS0FDTCxjQUFuQ21CLEVBQW9Ca0IsWUFDdEJsQixFQUFvQmtCLFlBQWMsV0FFbENsQixFQUFvQmtCLFlBQWMsWUFDcEMsSUFHRmQsY0FBY2QsNEJBQTRCQyxpQiIsInNvdXJjZXMiOlsid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvc3R5bGUuY3NzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvbm9uY2UiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9nYW1lYm9hcmQuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9zaGlwLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvc3R5bGUuY3NzPzcxNjMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2dhbWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiQGltcG9ydCB1cmwoaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1Qb3BwaW5zOml0YWwsd2dodEAwLDEwMDswLDIwMDswLDMwMDswLDQwMDswLDUwMDswLDYwMDswLDcwMDswLDgwMDswLDkwMDsxLDEwMDsxLDIwMDsxLDMwMDsxLDQwMDsxLDUwMDsxLDYwMDsxLDcwMDsxLDgwMDsxLDkwMCZkaXNwbGF5PXN3YXApO1wiXSk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgYCoge1xuICBmb250LWZhbWlseTogXCJQb3BwaW5zXCIsIHNhbnMtc2VyaWY7XG59XG4uYm9hcmQtY29udGFpbmVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XG4gIG1hcmdpbi10b3A6IDIwcHg7XG59XG4uYm9hcmQge1xuICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xufVxuXG4uY2VsbCB7XG4gIHdpZHRoOiA0MHB4O1xuICBoZWlnaHQ6IDQwcHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkICMzMzM7XG4gIGZvbnQtc2l6ZTogMjBweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4vKiAuY2VsbDpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNlZWU7XG59ICovXG4uc2hpcCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNDUsIDE5OSwgMjU1LCAwLjYyKTtcbn1cblxuLnNoaXAtcG9zaXRpb24tcHJvaGliaXRlZCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCA2MCwgNjAsIDAuNjIpO1xufVxuLnNoaXAtcG9zaXRpb24tYWxsb3dlZCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNjEsIDI1NSwgOTAsIDAuNjIpO1xufVxuLyogTWlzc2VkIGNlbGwgKi9cbi5taXNzZWQge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGJhY2tncm91bmQtY29sb3I6ICNlYmViZWI7XG59XG5cbi5taXNzZWQ6OmFmdGVyIHtcbiAgY29udGVudDogXCJcIjtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDUwJTtcbiAgbGVmdDogNTAlO1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcbiAgd2lkdGg6IDhweDtcbiAgaGVpZ2h0OiA4cHg7XG4gIGJhY2tncm91bmQtY29sb3I6ICMzNDM0MzQ7IC8qIENvbG9yIG9mIHRoZSBkb3QgKi9cbiAgYm9yZGVyLXJhZGl1czogNTAlOyAvKiBNYWtlIGl0IGEgY2lyY2xlICovXG59XG5cbi8qIEhpdCBjZWxsICovXG4uaGl0IHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZlNGRmO1xufVxuXG4uaGl0OjpiZWZvcmUsXG4uaGl0OjphZnRlciB7XG4gIGNvbnRlbnQ6IFwiXCI7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiA1MCU7XG4gIGxlZnQ6IDUwJTtcbiAgd2lkdGg6IDEycHg7XG4gIGhlaWdodDogMnB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjM0NjI4OyAvKiBDb2xvciBvZiB0aGUgY3Jvc3MgKi9cbn1cblxuLmhpdDo6YmVmb3JlIHtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSkgcm90YXRlKDQ1ZGVnKTtcbn1cblxuLmhpdDo6YWZ0ZXIge1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKSByb3RhdGUoLTQ1ZGVnKTtcbn1cbmhlYWRlciBoMSB7XG4gIG1hcmdpbjogMzBweDtcbiAgZm9udC1zaXplOiA0MHB4O1xufVxuYSB7XG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICBjb2xvcjogYmxhY2s7XG59XG5pIHtcbiAgZm9udC1zaXplOiA0NXB4O1xufVxuYCwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvc3R5bGUuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUVBO0VBQ0Usa0NBQWtDO0FBQ3BDO0FBQ0E7RUFDRSxhQUFhO0VBQ2IsNkJBQTZCO0VBQzdCLGdCQUFnQjtBQUNsQjtBQUNBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsV0FBVztFQUNYLFlBQVk7RUFDWixzQkFBc0I7RUFDdEIsZUFBZTtFQUNmLGVBQWU7QUFDakI7O0FBRUE7O0dBRUc7QUFDSDtFQUNFLDBDQUEwQztBQUM1Qzs7QUFFQTtFQUNFLHlDQUF5QztBQUMzQztBQUNBO0VBQ0UseUNBQXlDO0FBQzNDO0FBQ0EsZ0JBQWdCO0FBQ2hCO0VBQ0Usa0JBQWtCO0VBQ2xCLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLFdBQVc7RUFDWCxrQkFBa0I7RUFDbEIsUUFBUTtFQUNSLFNBQVM7RUFDVCxnQ0FBZ0M7RUFDaEMsVUFBVTtFQUNWLFdBQVc7RUFDWCx5QkFBeUIsRUFBRSxxQkFBcUI7RUFDaEQsa0JBQWtCLEVBQUUscUJBQXFCO0FBQzNDOztBQUVBLGFBQWE7QUFDYjtFQUNFLGtCQUFrQjtFQUNsQix5QkFBeUI7QUFDM0I7O0FBRUE7O0VBRUUsV0FBVztFQUNYLGtCQUFrQjtFQUNsQixRQUFRO0VBQ1IsU0FBUztFQUNULFdBQVc7RUFDWCxXQUFXO0VBQ1gseUJBQXlCLEVBQUUsdUJBQXVCO0FBQ3BEOztBQUVBO0VBQ0UsOENBQThDO0FBQ2hEOztBQUVBO0VBQ0UsK0NBQStDO0FBQ2pEO0FBQ0E7RUFDRSxZQUFZO0VBQ1osZUFBZTtBQUNqQjtBQUNBO0VBQ0UsaUJBQWlCO0VBQ2pCLFlBQVk7QUFDZDtBQUNBO0VBQ0UsZUFBZTtBQUNqQlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCJAaW1wb3J0IHVybChcXFwiaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1Qb3BwaW5zOml0YWwsd2dodEAwLDEwMDswLDIwMDswLDMwMDswLDQwMDswLDUwMDswLDYwMDswLDcwMDswLDgwMDswLDkwMDsxLDEwMDsxLDIwMDsxLDMwMDsxLDQwMDsxLDUwMDsxLDYwMDsxLDcwMDsxLDgwMDsxLDkwMCZkaXNwbGF5PXN3YXBcXFwiKTtcXG5cXG4qIHtcXG4gIGZvbnQtZmFtaWx5OiBcXFwiUG9wcGluc1xcXCIsIHNhbnMtc2VyaWY7XFxufVxcbi5ib2FyZC1jb250YWluZXIge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kO1xcbiAgbWFyZ2luLXRvcDogMjBweDtcXG59XFxuLmJvYXJkIHtcXG4gIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XFxufVxcblxcbi5jZWxsIHtcXG4gIHdpZHRoOiA0MHB4O1xcbiAgaGVpZ2h0OiA0MHB4O1xcbiAgYm9yZGVyOiAxcHggc29saWQgIzMzMztcXG4gIGZvbnQtc2l6ZTogMjBweDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuXFxuLyogLmNlbGw6aG92ZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2VlZTtcXG59ICovXFxuLnNoaXAge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSg0NSwgMTk5LCAyNTUsIDAuNjIpO1xcbn1cXG5cXG4uc2hpcC1wb3NpdGlvbi1wcm9oaWJpdGVkIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCA2MCwgNjAsIDAuNjIpO1xcbn1cXG4uc2hpcC1wb3NpdGlvbi1hbGxvd2VkIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoNjEsIDI1NSwgOTAsIDAuNjIpO1xcbn1cXG4vKiBNaXNzZWQgY2VsbCAqL1xcbi5taXNzZWQge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ViZWJlYjtcXG59XFxuXFxuLm1pc3NlZDo6YWZ0ZXIge1xcbiAgY29udGVudDogXFxcIlxcXCI7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDUwJTtcXG4gIGxlZnQ6IDUwJTtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xcbiAgd2lkdGg6IDhweDtcXG4gIGhlaWdodDogOHB4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzM0MzQzNDsgLyogQ29sb3Igb2YgdGhlIGRvdCAqL1xcbiAgYm9yZGVyLXJhZGl1czogNTAlOyAvKiBNYWtlIGl0IGEgY2lyY2xlICovXFxufVxcblxcbi8qIEhpdCBjZWxsICovXFxuLmhpdCB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZlNGRmO1xcbn1cXG5cXG4uaGl0OjpiZWZvcmUsXFxuLmhpdDo6YWZ0ZXIge1xcbiAgY29udGVudDogXFxcIlxcXCI7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDUwJTtcXG4gIGxlZnQ6IDUwJTtcXG4gIHdpZHRoOiAxMnB4O1xcbiAgaGVpZ2h0OiAycHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjM0NjI4OyAvKiBDb2xvciBvZiB0aGUgY3Jvc3MgKi9cXG59XFxuXFxuLmhpdDo6YmVmb3JlIHtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpIHJvdGF0ZSg0NWRlZyk7XFxufVxcblxcbi5oaXQ6OmFmdGVyIHtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpIHJvdGF0ZSgtNDVkZWcpO1xcbn1cXG5oZWFkZXIgaDEge1xcbiAgbWFyZ2luOiAzMHB4O1xcbiAgZm9udC1zaXplOiA0MHB4O1xcbn1cXG5hIHtcXG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xcbiAgY29sb3I6IGJsYWNrO1xcbn1cXG5pIHtcXG4gIGZvbnQtc2l6ZTogNDVweDtcXG59XFxuXCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdO1xuXG4gIC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgY29udGVudCArPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9O1xuXG4gIC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcbiAgICB9XG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIGlkID0gdGhpc1trXVswXTtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgX2sgPSAwOyBfayA8IG1vZHVsZXMubGVuZ3RoOyBfaysrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19rXSk7XG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGxheWVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbVs1XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdXBwb3J0cykge1xuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKFwiXFxuXCIpO1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHN0eWxlc0luRE9NID0gW107XG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRPTS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRPTVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4QnlJZGVudGlmaWVyID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdLFxuICAgICAgc3VwcG9ydHM6IGl0ZW1bNF0sXG4gICAgICBsYXllcjogaXRlbVs1XVxuICAgIH07XG4gICAgaWYgKGluZGV4QnlJZGVudGlmaWVyICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB1cGRhdGVyID0gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucyk7XG4gICAgICBvcHRpb25zLmJ5SW5kZXggPSBpO1xuICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKGksIDAsIHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogdXBkYXRlcixcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuZnVuY3Rpb24gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgYXBpID0gb3B0aW9ucy5kb21BUEkob3B0aW9ucyk7XG4gIGFwaS51cGRhdGUob2JqKTtcbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXAgJiYgbmV3T2JqLnN1cHBvcnRzID09PSBvYmouc3VwcG9ydHMgJiYgbmV3T2JqLmxheWVyID09PSBvYmoubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYXBpLnVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVtb3ZlKCk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gdXBkYXRlcjtcbn1cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuICAgICAgaWYgKHN0eWxlc0luRE9NW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRPTVtfaW5kZXhdLnVwZGF0ZXIoKTtcbiAgICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBtZW1vID0ge307XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZ2V0VGFyZ2V0KHRhcmdldCkge1xuICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTtcblxuICAgIC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG4gICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgfVxuICByZXR1cm4gbWVtb1t0YXJnZXRdO1xufVxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgfVxuICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydFN0eWxlRWxlbWVudDsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMoc3R5bGVFbGVtZW50KSB7XG4gIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gXCJ1bmRlZmluZWRcIiA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcbiAgaWYgKG5vbmNlKSB7XG4gICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IFwiXCI7XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChvYmouc3VwcG9ydHMsIFwiKSB7XCIpO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKTtcbiAgfVxuICB2YXIgbmVlZExheWVyID0gdHlwZW9mIG9iai5sYXllciAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIkBsYXllclwiLmNvbmNhdChvYmoubGF5ZXIubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChvYmoubGF5ZXIpIDogXCJcIiwgXCIge1wiKTtcbiAgfVxuICBjc3MgKz0gb2JqLmNzcztcbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfVxuXG4gIC8vIEZvciBvbGQgSUVcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xufVxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlRWxlbWVudC5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJldHVybiB7XG4gICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHt9LFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgIH07XG4gIH1cbiAgdmFyIHN0eWxlRWxlbWVudCA9IG9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9iaikge1xuICAgICAgYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5tb2R1bGUuZXhwb3J0cyA9IGRvbUFQSTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCkge1xuICBpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgc3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHN0eWxlVGFnVHJhbnNmb3JtOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5jID0gdW5kZWZpbmVkOyIsImV4cG9ydCBjbGFzcyBHYW1lQm9hcmQge1xuICBjb25zdHJ1Y3RvcihzaXplID0gMTApIHtcbiAgICB0aGlzLnNpemUgPSBzaXplO1xuICAgIHRoaXMuZ3JpZCA9IEFycmF5LmZyb20oeyBsZW5ndGg6IHNpemUgfSwgKCkgPT4gQXJyYXkoc2l6ZSkuZmlsbChudWxsKSk7XG4gICAgdGhpcy5zaGlwcyA9IFtdO1xuICAgIHRoaXMubWlzc2VkQXR0YWNrcyA9IFtdO1xuICB9XG5cbiAgcGxhY2VTaGlwKHNoaXAsIHgsIHkpIHtcbiAgICBjb25zdCBzaGlwUG9zaXRpb25zID0gW107XG4gICAgbGV0IHBvc1ggPSB4O1xuICAgIGxldCBwb3NZID0geTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXAubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIENoZWNrIGlmIHBvc1ggb3IgcG9zWSBhcmUgb3V0IG9mIGJvdW5kcyBvZiB0aGUgZ3JpZFxuXG4gICAgICBpZiAoaXNQb3NpdGlvbldpdGhpbkJvdW5kcyh4LCB5KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTaGlwIHBsYWNlbWVudCBvdXQgb2YgYm91bmRzLlwiKTtcbiAgICAgIH1cbiAgICAgIC8vIENoZWNrIGlmIGFub3RoZXIgc2hpcCBpcyBwbGFjZWQgYXQgdGhlIHBvc3NYIGFuZCBwb3NZXG4gICAgICBlbHNlIGlmICh0aGlzLmdyaWRbcG9zWV1bcG9zWF0gIT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQW5vdGhlciBzaGlwIGlzIGFscmVhZHkgcGxhY2VkIGhlcmUuXCIpO1xuICAgICAgfVxuICAgICAgc2hpcFBvc2l0aW9ucy5wdXNoKFtwb3NYLCBwb3NZXSk7XG4gICAgICBpZiAoc2hpcC5kaXJlY3Rpb24gPT09IFwiaG9yaXpvbnRhbFwiKSB7XG4gICAgICAgIHBvc1grKztcbiAgICAgIH0gZWxzZSBpZiAoc2hpcC5kaXJlY3Rpb24gPT09IFwidmVydGljYWxcIikge1xuICAgICAgICBwb3NZKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZGlyZWN0aW9uLiBVc2UgXCJob3Jpem9udGFsXCIgb3IgXCJ2ZXJ0aWNhbFwiLicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNoaXBQb3NpdGlvbnMuZm9yRWFjaCgoW3Bvc1gsIHBvc1ldKSA9PiB7XG4gICAgICB0aGlzLmdyaWRbcG9zWV1bcG9zWF0gPSBzaGlwO1xuICAgIH0pO1xuXG4gICAgdGhpcy5zaGlwcy5wdXNoKHsgc2hpcCwgc2hpcFBvc2l0aW9ucyB9KTtcbiAgfVxuICAvLyBUaGlzIG1ldGhvZCBjaGVja3Mgd2hldGhlciBpdCBpcyBwb3NzaWJsZSB0byBwbGFjZSBzaGlwcyBmcm9tIGEgY29vcmRpbmF0ZSwgaXQgZG9lcyBhbG1vc3QgdGhlIHNhbWUgdGhpbmcgYXMgcGxhY2VTaGlwIGJ1dCBpdCdzIGp1c3QgZm9yIHRlc3RcbiAgY2FuVGhpc1NoaXBCZVBsYWNlZEhlcmUoc2hpcCwgeSwgeCkge1xuICAgIGxldCBwb3NYID0gcGFyc2VJbnQoeCk7XG4gICAgbGV0IHBvc1kgPSBwYXJzZUludCh5KTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcC5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGlzUG9zaXRpb25XaXRoaW5Cb3VuZHMocG9zWCwgcG9zWSkpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJTaGlwIHBsYWNlbWVudCBvdXQgb2YgYm91bmRzLlwiKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gQ2hlY2sgaWYgYW5vdGhlciBzaGlwIGlzIHBsYWNlZCBhdCB0aGUgcG9zc1ggYW5kIHBvc1lcbiAgICAgIGVsc2UgaWYgKHRoaXMuZ3JpZFtwb3NZXVtwb3NYXSAhPT0gbnVsbCkge1xuICAgICAgICBjb25zb2xlLmxvZyhgUG9zWDogJHtwb3NYfSwgJHtwb3NZfWApO1xuICAgICAgICBjb25zb2xlLmxvZyhcIkFub3RoZXIgc2hpcCBpcyBhbHJlYWR5IHBsYWNlZCBoZXJlLlwiKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKHNoaXAuZGlyZWN0aW9uID09PSBcImhvcml6b250YWxcIikge1xuICAgICAgICBwb3NYKys7XG4gICAgICB9IGVsc2UgaWYgKHNoaXAuZGlyZWN0aW9uID09PSBcInZlcnRpY2FsXCIpIHtcbiAgICAgICAgcG9zWSsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJJbnZhbGlkIGRpcmVjdGlvbi4gVXNlICdob3Jpem9udGFsJyBvciAndmVydGljYWwnXCIpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKFwiT2tcIik7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZWNlaXZlQXR0YWNrKHgsIHkpIHtcbiAgICBpZiAoeCA8IDAgfHwgeCA+PSB0aGlzLnNpemUgfHwgeSA8IDAgfHwgeSA+PSB0aGlzLnNpemUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkF0dGFjayBvdXQgb2YgYm91bmRzLlwiKTtcbiAgICB9XG4gICAgY29uc3QgdGFyZ2V0ID0gdGhpcy5ncmlkW3ldW3hdO1xuXG4gICAgaWYgKHRhcmdldCA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5taXNzZWRBdHRhY2tzLnB1c2goW3gsIHldKTtcbiAgICAgIHJldHVybiBcIk1pc3MhXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhcmdldC5oaXQoKTtcbiAgICAgIHJldHVybiBgSGl0IG9uICR7dGFyZ2V0Lm5hbWV9IWA7XG4gICAgfVxuICB9XG4gIGhhdmVBbGxTaGlwc0JlZW5TdW5rKCkge1xuICAgIGNvbnN0IHN1bmtEYXRhID0gdGhpcy5zaGlwcy5tYXAoKGl0ZW0pID0+IHtcbiAgICAgIHJldHVybiBpdGVtLnNoaXAuaXNTdW5rO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHN1bmtEYXRhLmV2ZXJ5KCh4KSA9PiB4ID09PSB0cnVlKTtcbiAgfVxuXG4gIGRpc3BsYXlCb2FyZChwbGFjZSkge1xuICAgIC8vIFRoaXMgcGFydCBvZiB0aGUgY29kZSBzaG91bGQgYmUgYWZ0ZXIgdGhlIGNyZWF0aW9uIG9mIHRoZSBnYW1lIGJvYXJkcyBhbmQgYmVmb3JlIHJlbmRlcmluZyB0aGVtXG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XG4gICAgICBsZXQgZHJhZ2dlZEVsZW1lbnQ7XG4gICAgICAvLyBQb3B1bGF0ZSBwbGF5ZXIncyBib2FyZFxuXG4gICAgICBsZXQgeSA9IDA7XG4gICAgICB0aGlzLmdyaWQuZm9yRWFjaCgocm93KSA9PiB7XG4gICAgICAgIGNvbnN0IHJvd0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XG4gICAgICAgIGxldCB4ID0gMDtcbiAgICAgICAgcm93LmZvckVhY2goKGNlbGwpID0+IHtcbiAgICAgICAgICBjb25zdCBjZWxsRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtcblxuICAgICAgICAgIGNlbGxFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJjZWxsXCIpO1xuICAgICAgICAgIGNlbGxFbGVtZW50LnNldEF0dHJpYnV0ZShcImRhdGEteFwiLCB4KTtcbiAgICAgICAgICBjZWxsRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXlcIiwgeSk7XG4gICAgICAgICAgeCsrO1xuXG4gICAgICAgICAgcm93RWxlbWVudC5hcHBlbmRDaGlsZChjZWxsRWxlbWVudCk7XG4gICAgICAgIH0pO1xuICAgICAgICB5Kys7XG4gICAgICAgIHBsYWNlLmFwcGVuZENoaWxkKHJvd0VsZW1lbnQpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFBvcHVsYXRlIGNvbXB1dGVyJ3MgYm9hcmRcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29tcHV0ZXJHYW1lQm9hcmQgZXh0ZW5kcyBHYW1lQm9hcmQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgYWxsb3dQbGF5ZXJUb0F0dGFja0NvbXB1dGVyKGNvbXB1dGVyQm9hcmRET00pIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBhbGxPcHBvbmVudENlbGxzID0gQXJyYXkuZnJvbShcbiAgICAgICAgY29tcHV0ZXJCb2FyZERPTS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiY2VsbFwiKVxuICAgICAgKTtcblxuICAgICAgYWxsT3Bwb25lbnRDZWxscy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLnJlY2VpdmVBdHRhY2soXG4gICAgICAgICAgICAgIGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS14XCIpLFxuICAgICAgICAgICAgICBlbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEteVwiKVxuICAgICAgICAgICAgKSA9PSBcIk1pc3MhXCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1pc3NlZFwiKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiaGl0XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNQb3NpdGlvbldpdGhpbkJvdW5kcyhwb3NYLCBwb3NZKSB7XG4gIHJldHVybiAhKFxuICAgIHJhbmdlKDEwKS5pbmNsdWRlcyhwYXJzZUludChwb3NYKSkgJiYgcmFuZ2UoMTApLmluY2x1ZGVzKHBhcnNlSW50KHBvc1kpKVxuICApO1xufVxuLy8gcmFuZ2UgaXMgYSBmdW5jdGlvbiB0aGF0IGJhc2ljYWxseSB0YWtlcyBhIG51bWJlcihuKSBhbmQgcmV0dXJuIGEgbGlzdCBvZiBhbGwgaW50ZWdlcnMgZnJvbSAwIHRvIG4gZXhjbHVkZWQuXG5mdW5jdGlvbiByYW5nZShuKSB7XG4gIHZhciBhbnMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICBhbnMucHVzaChpKTtcbiAgfVxuICByZXR1cm4gYW5zO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2hpcCB7XG4gIGNvbnN0cnVjdG9yKG5hbWUsIGxlbmd0aCwgZGlyZWN0aW9uID0gXCJob3Jpem9udGFsXCIpIHtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuaGl0cyA9IDA7XG4gICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XG4gICAgdGhpcy5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG4gICAgdGhpcy5pc1N1bmsgPSBmYWxzZTtcbiAgfVxuXG4gIGhpdCgpIHtcbiAgICB0aGlzLmhpdHMrKztcbiAgICBpZiAodGhpcy5oaXRzID09PSB0aGlzLmxlbmd0aCkge1xuICAgICAgdGhpcy5pc1N1bmsgPSB0cnVlO1xuICAgIH1cbiAgfVxufVxuIiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiaW1wb3J0IHsgR2FtZSB9IGZyb20gXCIuL2dhbWVcIjtcbmltcG9ydCBcIi4vc3R5bGUuY3NzXCI7XG5cbmNvbnN0IGJhdHRsZXNoaXBHYW1lID0gbmV3IEdhbWUoKTtcblxuYmF0dGxlc2hpcEdhbWUuc2V0VXBCb2FyZHMoKTtcblxuY29uc3Qgc2hpcERpcmVjdGlvbkJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2hpcC1kaXJlY3Rpb25cIik7XG5cbnNoaXBEaXJlY3Rpb25CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgaWYgKHNoaXBEaXJlY3Rpb25CdXR0b24udGV4dENvbnRlbnQgPT0gXCJob3Jpem9udGFsXCIpIHtcbiAgICBzaGlwRGlyZWN0aW9uQnV0dG9uLnRleHRDb250ZW50ID0gXCJ2ZXJ0aWNhbFwiO1xuICB9IGVsc2Uge1xuICAgIHNoaXBEaXJlY3Rpb25CdXR0b24udGV4dENvbnRlbnQgPSBcImhvcml6b250YWxcIjtcbiAgfVxufSk7XG5cbmNvbXB1dGVyQm9hcmQuYWxsb3dQbGF5ZXJUb0F0dGFja0NvbXB1dGVyKGNvbXB1dGVyQm9hcmRET00pO1xuIiwiaW1wb3J0IHsgQ29tcHV0ZXJHYW1lQm9hcmQsIEdhbWVCb2FyZCB9IGZyb20gXCIuL2dhbWVib2FyZFwiO1xuaW1wb3J0IFNoaXAgZnJvbSBcIi4vc2hpcFwiO1xuZXhwb3J0IGNsYXNzIEdhbWUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnNoaXBEaXJlY3Rpb25CdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNoaXAtZGlyZWN0aW9uXCIpO1xuICAgIHRoaXMuYWxsUGxheWVyU2hpcHMgPSBbXTtcbiAgICB0aGlzLnBsYXllckJvYXJkID0gbmV3IEdhbWVCb2FyZCgpO1xuICAgIHRoaXMuY29tcHV0ZXJCb2FyZCA9IG5ldyBDb21wdXRlckdhbWVCb2FyZCgpO1xuICAgIC8vIFRoZXNlIHJlcHJlc2VudHMgdGhlIHBsYXllcnMgR2FtZUJvYXJkcyBvbiB0aGUgRE9NXG4gICAgdGhpcy5wbGF5ZXJCb2FyZERPTSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGxheWVyLWJvYXJkXCIpO1xuICAgIHRoaXMuY29tcHV0ZXJCb2FyZERPTSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29tcHV0ZXItYm9hcmRcIik7XG4gICAgdGhpcy5wbGF5ZXJTaGlwTmFtZXNBbmRMZW5ndGggPSBbXG4gICAgICBbXCJCYXR0bGVzaGlwXCIsIDVdLFxuICAgICAgW1wiS3Jha2VuXCIsIDRdLFxuICAgICAgW1wiQnVsbCBEb2dcIiwgM10sXG4gICAgICBbXCJUaXRhblwiLCAyXSxcbiAgICAgIFtcIldhcnJpb3JcIiwgMl0sXG4gICAgICBbXCJUaWtpXCIsIDFdLFxuICAgIF07XG4gIH1cblxuICBzZXRVcEJvYXJkcygpIHtcbiAgICB0aGlzLnBsYXllckJvYXJkLmRpc3BsYXlCb2FyZCh0aGlzLnBsYXllckJvYXJkRE9NKTtcbiAgICB0aGlzLmNvbXB1dGVyQm9hcmQuZGlzcGxheUJvYXJkKHRoaXMuY29tcHV0ZXJCb2FyZERPTSk7XG4gICAgdGhpcy5zdGFydFBsYWNlU2hpcFByb2Nlc3MoKTtcbiAgfVxuXG4gIHN0YXJ0UGxhY2VTaGlwUHJvY2VzcygpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBhbGxDZWxscyA9IHRoaXMucGxheWVyQm9hcmRET00ucXVlcnlTZWxlY3RvckFsbChcIi5jZWxsXCIpO1xuXG4gICAgICBmb3IgKGNvbnN0IGNlbGwgb2YgYWxsQ2VsbHMpIHtcbiAgICAgICAgdGhpcy5hZGRNb3VzZU92ZXJFZmZlY3RPbihjZWxsKTtcblxuICAgICAgICB0aGlzLmFkZE1vdXNlT3V0RWZmZWN0T24oY2VsbCk7XG4gICAgICAgIHRoaXMuYWRkQ2xpY2tFZmZlY3RPbihjZWxsKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBhZGRNb3VzZU92ZXJFZmZlY3RPbihjZWxsKSB7XG4gICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsICgpID0+IHtcbiAgICAgIGNvbnN0IGRhdGFYID0gY2VsbC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXhcIik7XG4gICAgICBjb25zdCBkYXRhWSA9IGNlbGwuZ2V0QXR0cmlidXRlKFwiZGF0YS15XCIpO1xuICAgICAgY29uc3Qgc2hpcERldGFpbHMgPSB0aGlzLnBsYXllclNoaXBOYW1lc0FuZExlbmd0aFswXTtcbiAgICAgIGNvbnNvbGUubG9nKHNoaXBEZXRhaWxzKTtcbiAgICAgIGNvbnN0IHNoaXBBID0gbmV3IFNoaXAoLi4uc2hpcERldGFpbHMpO1xuICAgICAgc2hpcEEuZGlyZWN0aW9uID0gdGhpcy5zaGlwRGlyZWN0aW9uQnV0dG9uLnRleHRDb250ZW50O1xuICAgICAgaWYgKHRoaXMucGxheWVyQm9hcmQuY2FuVGhpc1NoaXBCZVBsYWNlZEhlcmUoc2hpcEEsIGRhdGFZLCBkYXRhWCkpIHtcbiAgICAgICAgbGV0IHBvc1ggPSBwYXJzZUludChkYXRhWCk7XG4gICAgICAgIGxldCBwb3NZID0gcGFyc2VJbnQoZGF0YVkpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXBBLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29uc3Qgc2hpcCA9IHRoaXMucGxheWVyQm9hcmRET00ucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgIGB0ZFtkYXRhLXg9XCIke3Bvc1h9XCJdW2RhdGEteT1cIiR7cG9zWX1cIl1gXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIHNoaXAuY2xhc3NMaXN0LmFkZChcInNoaXAtcG9zaXRpb24tYWxsb3dlZFwiKTtcbiAgICAgICAgICBpZiAoc2hpcEEuZGlyZWN0aW9uID09PSBcImhvcml6b250YWxcIikge1xuICAgICAgICAgICAgcG9zWCsrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwb3NZKys7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgcG9zWCA9IHBhcnNlSW50KGRhdGFYKTtcbiAgICAgICAgbGV0IHBvc1kgPSBwYXJzZUludChkYXRhWSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcEEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBzaGlwID0gdGhpcy5wbGF5ZXJCb2FyZERPTS5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgYHRkW2RhdGEteD1cIiR7cG9zWH1cIl1bZGF0YS15PVwiJHtwb3NZfVwiXWBcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgc2hpcC5jbGFzc0xpc3QuYWRkKFwic2hpcC1wb3NpdGlvbi1wcm9oaWJpdGVkXCIpO1xuICAgICAgICAgIGlmIChzaGlwQS5kaXJlY3Rpb24gPT09IFwiaG9yaXpvbnRhbFwiKSB7XG4gICAgICAgICAgICBwb3NYKys7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBvc1krKztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBhZGRNb3VzZU91dEVmZmVjdE9uKGNlbGwpIHtcbiAgICBjZWxsLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLCAoKSA9PiB7XG4gICAgICBjb25zdCBkYXRhWCA9IGNlbGwuZ2V0QXR0cmlidXRlKFwiZGF0YS14XCIpO1xuICAgICAgY29uc3QgZGF0YVkgPSBjZWxsLmdldEF0dHJpYnV0ZShcImRhdGEteVwiKTtcblxuICAgICAgY29uc3Qgc2hpcERldGFpbHMgPSB0aGlzLnBsYXllclNoaXBOYW1lc0FuZExlbmd0aFswXTtcbiAgICAgIGNvbnNvbGUubG9nKHNoaXBEZXRhaWxzKTtcbiAgICAgIGNvbnN0IHNoaXBBID0gbmV3IFNoaXAoLi4uc2hpcERldGFpbHMpO1xuICAgICAgc2hpcEEuZGlyZWN0aW9uID0gdGhpcy5zaGlwRGlyZWN0aW9uQnV0dG9uLnRleHRDb250ZW50O1xuXG4gICAgICBpZiAodGhpcy5wbGF5ZXJCb2FyZC5jYW5UaGlzU2hpcEJlUGxhY2VkSGVyZShzaGlwQSwgZGF0YVksIGRhdGFYKSkge1xuICAgICAgICBsZXQgcG9zWCA9IHBhcnNlSW50KGRhdGFYKTtcbiAgICAgICAgbGV0IHBvc1kgPSBwYXJzZUludChkYXRhWSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcEEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBzaGlwID0gdGhpcy5wbGF5ZXJCb2FyZERPTS5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgYHRkW2RhdGEteD1cIiR7cG9zWH1cIl1bZGF0YS15PVwiJHtwb3NZfVwiXWBcbiAgICAgICAgICApO1xuICAgICAgICAgIHNoaXAuY2xhc3NMaXN0LnJlbW92ZShcInNoaXAtcG9zaXRpb24tYWxsb3dlZFwiKTtcbiAgICAgICAgICBpZiAoc2hpcEEuZGlyZWN0aW9uID09PSBcImhvcml6b250YWxcIikge1xuICAgICAgICAgICAgcG9zWCsrO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwb3NZKys7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgcG9zWCA9IHBhcnNlSW50KGRhdGFYKTtcbiAgICAgICAgbGV0IHBvc1kgPSBwYXJzZUludChkYXRhWSk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwQS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGNvbnN0IHNoaXAgPSB0aGlzLnBsYXllckJvYXJkRE9NLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICBgdGRbZGF0YS14PVwiJHtwb3NYfVwiXVtkYXRhLXk9XCIke3Bvc1l9XCJdYFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBzaGlwLmNsYXNzTGlzdC5yZW1vdmUoXCJzaGlwLXBvc2l0aW9uLXByb2hpYml0ZWRcIik7XG4gICAgICAgICAgaWYgKHNoaXBBLmRpcmVjdGlvbiA9PT0gXCJob3Jpem9udGFsXCIpIHtcbiAgICAgICAgICAgIHBvc1grKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcG9zWSsrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgYWRkQ2xpY2tFZmZlY3RPbihjZWxsKSB7XG4gICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgY29uc3QgZGF0YVggPSBjZWxsLmdldEF0dHJpYnV0ZShcImRhdGEteFwiKTtcbiAgICAgIGNvbnN0IGRhdGFZID0gY2VsbC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXlcIik7XG5cbiAgICAgIGNvbnN0IHNoaXBEZXRhaWxzID0gdGhpcy5wbGF5ZXJTaGlwTmFtZXNBbmRMZW5ndGguc2hpZnQoKTtcbiAgICAgIGNvbnNvbGUubG9nKHNoaXBEZXRhaWxzKTtcbiAgICAgIGNvbnN0IHNoaXBBID0gbmV3IFNoaXAoLi4uc2hpcERldGFpbHMpO1xuICAgICAgc2hpcEEuZGlyZWN0aW9uID0gdGhpcy5zaGlwRGlyZWN0aW9uQnV0dG9uLnRleHRDb250ZW50O1xuXG4gICAgICBpZiAodGhpcy5wbGF5ZXJCb2FyZC5jYW5UaGlzU2hpcEJlUGxhY2VkSGVyZShzaGlwQSwgZGF0YVksIGRhdGFYKSkge1xuICAgICAgICB0aGlzLnBsYXllckJvYXJkLnBsYWNlU2hpcChzaGlwQSwgZGF0YVgsIGRhdGFZKTtcblxuICAgICAgICBsZXQgcG9zWCA9IHBhcnNlSW50KGRhdGFYKTtcbiAgICAgICAgbGV0IHBvc1kgPSBwYXJzZUludChkYXRhWSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcEEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBzaGlwID0gdGhpcy5wbGF5ZXJCb2FyZERPTS5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgYHRkW2RhdGEteD1cIiR7cG9zWH1cIl1bZGF0YS15PVwiJHtwb3NZfVwiXWBcbiAgICAgICAgICApO1xuICAgICAgICAgIHNoaXAuY2xhc3NMaXN0LnJlbW92ZShcInNoaXAtcG9zaXRpb24tYWxsb3dlZFwiKTtcblxuICAgICAgICAgIHNoaXAuY2xhc3NMaXN0LmFkZChcInNoaXBcIik7XG4gICAgICAgICAgaWYgKHNoaXBBLmRpcmVjdGlvbiA9PT0gXCJob3Jpem9udGFsXCIpIHtcbiAgICAgICAgICAgIHBvc1grKztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcG9zWSsrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJwdXNoIiwibW9kdWxlIiwiaWQiLCJleHBvcnRzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsIm5lZWRMYXllciIsImNvbmNhdCIsImxlbmd0aCIsImpvaW4iLCJpIiwibW9kdWxlcyIsIm1lZGlhIiwiZGVkdXBlIiwic3VwcG9ydHMiLCJsYXllciIsInVuZGVmaW5lZCIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJrIiwiX2siLCJjc3NNYXBwaW5nIiwiYnRvYSIsImJhc2U2NCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJzb3VyY2VNYXBwaW5nIiwic3R5bGVzSW5ET00iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJvcHRpb25zIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiYmFzZSIsImNvdW50IiwiaW5kZXhCeUlkZW50aWZpZXIiLCJvYmoiLCJjc3MiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsImFkZEVsZW1lbnRTdHlsZSIsImJ5SW5kZXgiLCJzcGxpY2UiLCJhcGkiLCJkb21BUEkiLCJ1cGRhdGUiLCJuZXdPYmoiLCJyZW1vdmUiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwiaW5kZXgiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsIm1lbW8iLCJpbnNlcnQiLCJzdHlsZSIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwid2luZG93IiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsImdldFRhcmdldCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJlbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwic3R5bGVFbGVtZW50Iiwibm9uY2UiLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZVRhZ1RyYW5zZm9ybSIsImFwcGx5IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlU3R5bGVFbGVtZW50Iiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJmaXJzdENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIm5jIiwiR2FtZUJvYXJkIiwiY29uc3RydWN0b3IiLCJzaXplIiwiZ3JpZCIsIkFycmF5IiwiZnJvbSIsImZpbGwiLCJzaGlwcyIsIm1pc3NlZEF0dGFja3MiLCJwbGFjZVNoaXAiLCJzaGlwIiwieCIsInkiLCJzaGlwUG9zaXRpb25zIiwicG9zWCIsInBvc1kiLCJpc1Bvc2l0aW9uV2l0aGluQm91bmRzIiwiZGlyZWN0aW9uIiwiZm9yRWFjaCIsImNhblRoaXNTaGlwQmVQbGFjZWRIZXJlIiwicGFyc2VJbnQiLCJjb25zb2xlIiwibG9nIiwicmVjZWl2ZUF0dGFjayIsImhpdCIsIm5hbWUiLCJoYXZlQWxsU2hpcHNCZWVuU3VuayIsImlzU3VuayIsImV2ZXJ5IiwiZGlzcGxheUJvYXJkIiwicGxhY2UiLCJhZGRFdmVudExpc3RlbmVyIiwicm93Iiwicm93RWxlbWVudCIsImNlbGwiLCJjZWxsRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsIkNvbXB1dGVyR2FtZUJvYXJkIiwic3VwZXIiLCJhbGxvd1BsYXllclRvQXR0YWNrQ29tcHV0ZXIiLCJjb21wdXRlckJvYXJkRE9NIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImdldEF0dHJpYnV0ZSIsInJhbmdlIiwiaW5jbHVkZXMiLCJhbnMiLCJTaGlwIiwiaGl0cyIsImxvY2FscyIsInNoaXBEaXJlY3Rpb25CdXR0b24iLCJnZXRFbGVtZW50QnlJZCIsImFsbFBsYXllclNoaXBzIiwicGxheWVyQm9hcmQiLCJjb21wdXRlckJvYXJkIiwicGxheWVyQm9hcmRET00iLCJwbGF5ZXJTaGlwTmFtZXNBbmRMZW5ndGgiLCJzZXRVcEJvYXJkcyIsInN0YXJ0UGxhY2VTaGlwUHJvY2VzcyIsImFsbENlbGxzIiwicXVlcnlTZWxlY3RvckFsbCIsImFkZE1vdXNlT3ZlckVmZmVjdE9uIiwiYWRkTW91c2VPdXRFZmZlY3RPbiIsImFkZENsaWNrRWZmZWN0T24iLCJkYXRhWCIsImRhdGFZIiwic2hpcERldGFpbHMiLCJzaGlwQSIsInRleHRDb250ZW50Iiwic2hpZnQiXSwic291cmNlUm9vdCI6IiJ9